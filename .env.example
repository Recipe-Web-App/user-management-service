# User Management Service Environment Configuration
# Copy this file to .env and configure the values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database Settings
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=recipe_manager
POSTGRES_SCHEMA=public

# User Management Service Database User
USER_MANAGEMENT_DB_USER=user_management
USER_MANAGEMENT_DB_PASSWORD=your_secure_db_password_here

# =============================================================================
# JWT AUTHENTICATION CONFIGURATION
# =============================================================================

# JWT Secret Key - MUST be changed in production!
# Generate with: openssl rand -hex 32
# NOTE: This is used for backward compatibility when OAuth2 is disabled
JWT_SECRET_KEY=your_super_secret_jwt_key_here_change_in_production

# JWT Algorithm (recommended: HS256)
JWT_SIGNING_ALGORITHM=HS256

# Token Expiration Times (used for backward compatibility)
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_RESET_TOKEN_EXPIRE_MINUTES=15

# =============================================================================
# OAUTH2 INTEGRATION CONFIGURATION
# =============================================================================

# JWT Configuration (MUST match auth-service)
# Only used if OAUTH2_INTROSPECTION_ENABLED=false
JWT_SECRET=your-very-secure-secret-key-at-least-32-characters-long

# OAuth2 Service Configuration
OAUTH2_SERVICE_ENABLED=true
OAUTH2_SERVICE_TO_SERVICE_ENABLED=true
OAUTH2_INTROSPECTION_ENABLED=false
OAUTH2_CLIENT_ID=recipe-service-client
OAUTH2_CLIENT_SECRET=your-oauth2-client-secret-here

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed Origins (comma-separated list)
# For development: http://localhost:3000,http://localhost:8080
# For production: https://your-frontend-domain.com
ALLOWED_ORIGIN_HOSTS=http://localhost:3000,http://localhost:8080

# Allow Credentials in CORS requests
ALLOWED_CREDENTIALS=true

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Server Settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Logging Configuration Path (optional)
# LOGGING_CONFIG_PATH=/path/to/custom/logging.json

# =============================================================================
# SECURITY CONFIGURATION (Optional)
# =============================================================================

# Rate Limiting (requests per minute)
# RATE_LIMIT_PER_MINUTE=100

# Maximum Request Size (in bytes)
# MAX_REQUEST_SIZE=1048576

# Session Timeout (in seconds)
# SESSION_TIMEOUT=3600

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Email Service Configuration (for password reset, notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_FROM_EMAIL=noreply@recipe-app.com

# File Storage (for profile pictures, etc.)
# STORAGE_PROVIDER=local  # local, aws_s3, gcp_storage

# =============================================================================
# MONITORING & OBSERVABILITY (Optional)
# =============================================================================

# Application Performance Monitoring
# APM_SERVICE_NAME=user-management-service
# APM_ENVIRONMENT=development

# Metrics Collection
# ENABLE_METRICS=true
# METRICS_PORT=9090

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development-specific settings (only used in development environment)
# DEBUG=true
# RELOAD=true
# LOG_LEVEL=DEBUG

# Database Seeding (for development)
# SEED_DATABASE=true
# CREATE_ADMIN_USER=true
# ADMIN_EMAIL=admin@recipe-app.local
# ADMIN_PASSWORD=admin_password_123

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production-specific settings (uncomment for production)
# DEBUG=false
# RELOAD=false
# LOG_LEVEL=INFO

# SSL/TLS Configuration
# SSL_KEYFILE=/path/to/ssl/key.pem
# SSL_CERTFILE=/path/to/ssl/cert.pem

# Health Check Configuration
# HEALTH_CHECK_TIMEOUT=30
# HEALTH_CHECK_INTERVAL=60

# =============================================================================
# DOCKER COMPOSE OVERRIDES
# =============================================================================

# These are used by docker-compose.yml and can be customized
PGADMIN_PASSWORD=admin_password_123
REDIS_COMMANDER_PASSWORD=admin_password_123

# =============================================================================
# NOTES
# =============================================================================
#
# 1. Never commit .env files to version control
# 2. Use strong, unique passwords for all services
# 3. Generate JWT secret keys using cryptographically secure methods
# 4. In production, use environment-specific values and secret management
# 5. Review and update CORS origins for your deployment environment
# 6. Consider using a key management service for secrets in production
#
# For more information, see the project documentation:
# - README.md for general setup
# - docs/DEVELOPMENT.md for development environment setup
# - docs/DEPLOYMENT.md for production deployment
#
